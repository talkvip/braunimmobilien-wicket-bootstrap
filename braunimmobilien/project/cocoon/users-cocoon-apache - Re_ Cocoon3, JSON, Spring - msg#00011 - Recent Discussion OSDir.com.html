<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0061)http://osdir.com/ml/users-cocoon-apache/2011-09/msg00011.html -->
<html itemscope="" itemtype="http://schema.org/"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<title>
	users-cocoon-apache - Re: Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com
</title>
<!--<base href="http://osdir.com/ml/users-cocoon-apache/2011-09/">--><base href=".">


                <link rel="stylesheet" href="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/defaultv8.css" type="text/css">




<script async="" src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/analytics.js"></script><script type="text/JavaScript">
<!--
function timedRefresh(timeoutPeriod) {
	setTimeout("location.reload(true);",timeoutPeriod);
}
//   -->
</script>





<meta itemprop="name" content="Re: Cocoon3, JSON, Spring - users-cocoon-apache">
<meta itemprop="description" content="Re: Cocoon3, JSON, Spring">


<script src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/jquery.min.js"></script>
<script src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/iframe_defer.js"></script>
<!-- DEFERS -->


<!-- 1/2  !!!!! Script to kickstart recliner is lower in page!!!!! -->
<script src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/recliner.min.js"></script>  
<!-- http://sourcey.com/recliner/#iframes -->
<!-- LAZY LOADS -->






<meta name="viewport" content="width=device-width, initial-scale=1">



</head>	



  <!-- Clears Odd behavior on comments & follow ups postings -->
  <body onload="JavaScript:timedRefresh(3600000);"> 



 
		<!-- NATCH -->

<!-- Normally GA code for everything -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');


  ga('create', 'UA-381510-10', 'auto');
  ga('send', 'pageview');

</script>

<!-- FANCY BAR -->
			<div id="topBarBox" class="round10">
					<table border="0" cellpadding="0" cellspacing="0" width="100%" height="25">
						<tbody><tr>
							<td align="left" valign="middle">
								
		<font size="+3"><a href="http://osdir.com/ml/" style="color:black;font-body:Ariel;text-decoration:none">OSDir.com</a></font> 
<a href="http://osdir.com/ml/users-cocoon-apache/" title="users-cocoon-apache">
users-cocoon-apache</a> 
								</td>
							<td valign="middle">
								<center>
									<div id="osDirAd1Post" class="adContainer banner" style="width:988px; height:25px;">

								</div></center>
						</td>
							<td align="right" valign="middle">



							</td>
						</tr>
					</tbody></table>
				</div>
				<!-- END FANCY BAR -->
			
		
<!-- #PAGE HEADER -->		
		


			
				<center>
<p>
				<!-- <div id="adContainerDiv1" class="adContainer banner" style="display: inline; height: 150px;"></div> -->
								</p></center>
			
		
<!-- #PAGE HEADER END -->
		
			
<!-- PAGE MIDDLE -->
				<table border="0" cellpadding="0" cellspacing="0">
				<tbody><tr>
	<td width="10" valign="top">
	<!-- LEFT COLUMN -->	
<div style="margin-left: 10px; margin-right: 10px;">
<p>
</p></div>
<!-- LEFT COLUMN END -->
					</td>


					<td width="913" valign="top"><!-- This width figure impacts the right col floating around -->
	<!-- MIDDLE COLUMN -->
	                <div class="col1" style="width:913px;"><!-- This width figure impacts the right col floating around -->
     

		

<p>
				</p><div class="osDirMsgContainer round10" id="osDirMsgPost" style="position:relative;overflow:auto !important;">
									 
								<div class="osDirMessageTitle">
									

<!-- In Msg SPAM Fighter -->




<table><tbody><tr><td>
<h1 id="messsubj">Subject: 
Re: Cocoon3, JSON, Spring</h1> 
<!-- 2nd LB Space -->


<!-- 2/2 Kickstart the Lazy Loading Code -->
<script>
    $(function() {
        // instantiate recliner
        $('.lazy').recliner({
            attrib: "data-src", // selector for attribute containing the media src
            throttle: 1,      // millisecond interval at which to process events
            threshold: 0,     // scroll distance from element before its loaded
            live: false        // NOT SURE WHAT THIS DOES SO LEAVING IT OFF -Steve  // auto bind lazy loading to ajax loaded elements          
        });
    });
</script>
<!-- End Kickstart -->


							
	<!-- <h2>List: <a href='http://osdir.com/ml/users-cocoon-apache/' title='users-cocoon-apache'>users-cocoon-apache</a></h2> -->
</td>
<td valign="top"> 
<div align="right"> 




</div>
</td></tr></tbody></table>


</div>

<p>
								</p><div class="osDirPrevNext">
									<center>
									<span style="font-size: smaller;">
									<!-- <b>users-cocoon-apache Navigation:</b> --> 
									</span>
								


							



	
									<a href="http://osdir.com/ml/users-cocoon-apache/2011-09/">Date Index</a>
								<!-- <a href='index.html#00011'>Index</a> -->
									Thread:
																			<a href="http://osdir.com/ml/users-cocoon-apache/2011-09/msg00004.html" title="Re: Adding my Java code to flowscript">Prev</a>
																												<a href="http://osdir.com/ml/users-cocoon-apache/2011-09/msg00012.html" title="Re: Adding my Java code to flowscript">Next</a>
										
	
								<a href="http://osdir.com/ml/users-cocoon-apache/2011-09/threads.html">Thread Index</a> 
							
								<!-- <a href='threads.html#00011'>Index</a> -->




</center>       </div><p> </p><p>

<!-- RCH Links -->
 







</p><div style="float:right; margin-right: 2px; width:310px">
 
</div>

							
							
																	
						





 	<div id="messspan">




Hi Thorsten,<br>
<br>
I did do some work on a TextSerializer and a JsonSerializer. I got it 
all working now.
<br>
<br>
I looked at the EncodingXHTMLSerializer as a starting point. I should 
note that I basically know nothing about the internal organization of 
cocoon 3, and this makes it really hard for an outsider to contribute, 
as it is rather unclear where to start. Sorry to say but the 
documentation in the various AIPs is really terrible. The organization 
of the classes explained below may be incorrect.
<br>
<br>
I made a EncodingTextSerializer-&gt;TextSerializer-&gt;XMLSerializer (the 
arrow means 'extend'). Both TextSerializer and XMLSerializer are in the 
package org.apache.cocoon.components.serializers.util. (Note: The 
XMLSerializer was already available, it is not mine). The 
EncodingTextSerializer is part of 
org.apache.cocoon.optional.servlet.components.sax.serializers
<br>The TextSerializer is based upon one I found in the cocoon 2 base code, 
but had to be augmented to implement the ContentHandler and other 
interfaces.
<br>
<br>
Similarly, I made EncodingJsonSerializer-&gt;JsonSerializer-&gt;TextSerializer.<br>
<br>
The JsonSerializer checks whether the JSON text is actually valid JSON 
(using org.json.JSONObject, see <a rel="nofollow" href="http://www.json.org/">http://www.json.org/</a>), and throws a 
SAXException if this is not the case.
<br>
<br>
The EncodingJsonSerializer is in 
org.apache.cocoon.optional.servlet.components.sax.serializers, while the 
JsonSerializer is in org.apache.cocoon.components.serializers.util.
<br>
<br>
Both encoding classes implement SAXPipelineComponent, Finisher, 
SAXConsumer, CachingPipelineComponent so that both encoding serializers 
can be used in a pipeline.
<br>
<br>
(NOTE: there appears to be 2-3 different XMLSerializers in use for 
cocoon 3? E.g. The FopSerializer derives from another XMLSerializer. It 
should be quite possible to use the same XMLSerializer for all serializers.)
<br>
<br>
Using an encoding serializer requires an alternative encoder for the 
TextSerializer, so I made a TextEncoder-&gt;XMLEncoder for use by the 
TextSerializer. Both TextEncoder and XMLEncoder are in 
org.apache.cocoon.components.serializers.encoding (the XMLEncoder 
already exists, it is not mine). The TextEncoder does not encode 
anything. It just returns the original character. There is no separate 
JsonEncoder.
<br>
<br>
Basically, this all works with the simple test files I made. It is easy 
to test this outside of cocoon, by creating an XMLReader and setting the 
ContentHandler as being any of the above serializers and parse some XML 
representing text or JSON (both must be enclosed by a single element).
<br>
<br>
I also incorporated this into cocoon 3 and made some simple pipelines to 
see if the two encoding serializers work as they should. For this, I 
created two beans defined as serializer:text and serializer:json. 
Basically everything seems to work just fine.
<br>
<br>
(I use a Java-based RESTClient at <a rel="nofollow" href="http://code.google.com/p/rest-client/">http://code.google.com/p/rest-client/</a> 
to see the response by cocoon 3. Very nice tool.)
<br>
<br>
I have attached the various classes to this email. Any comment by you 
and others are certainly welcome. If you think that attached code is 
actually useful for cocoon 3, I would be pleased if somebody would 
commit the code.
<br>
<br>
One final comment, IMHO the packages 
org.apache.cocoon.components.serializers.util and 
org.apache.cocoon.components.serializers.encoding should be transferred 
to cocoon 3 and probably should become part of cocoon-optional. The 
spring configuration in these packages are still based on Spring 2, 
while cocoon 3 uses Spring 3.
<br>
<br>
Thanks,<br>
AndrÃ<br>
<br>
<br>
<br>
On 09/02/2011 02:31 PM, Andre Juffer wrote:<br>

On 02/09/11 13:45, Thorsten Scherler wrote:<br>

On Fri, 2011-09-02 at 09:58 +0300, Andre Juffer wrote:<br>

On 09/02/2011 02:46 AM, Thorsten Scherler wrote:<br>

Hi Andre,<br>
<br>
sorry for top posting but I am responding from my mobile device.<br>
<br>
Regarding 1) the org.apache.cocoon.serialization.TextSerializer<br>
migration into c3 is ASAIK not yet done. However that should be<br>
pretty straight forward to implement.<br>

Yes, I was already thinking that I could do this.<br>

Contributions are always welcome. ;)<br>
<br>
If you or somebody else will do the migration please open an issue in<br>
<a rel="nofollow" href="https://issues.apache.org/jira/browse/COCOON3">https://issues.apache.org/jira/browse/COCOON3</a> and attach the diff. We<br>
will apply it ASAP.<br>

<br>
OK, I do my best to get it done.<br>
<br>
<br>

<br>

Actually I did lately work with the RESTController of c3 since the<br>
JAX-RS integration was not needed for my use cases. If you choose<br>
the c3 REST way you can use the TextResponse [1] to return your json<br>
objects to the client. In the same package you will as well find a<br>
BinaryResponse [2] which you can use to return binary data like<br>
images from your rest services.<br>

The TextResponse is a good alternative, and I will certainly look into<br>
it. It is apparently not yet part of the current alpha Cocoon<br>
3.0.0-alpha-3 that I downloaded from the cocoon website.<br>

No you would need the HEAD or the latest beta snapshot.<br>
<br>

I just commited an example [3] of an asyncron processing with REST<br>
you may want to look into. It is based on jquery on the client side<br>
but you will get the idea. If you look at [4] you will see the basic<br>
background. The block provides a workig example when starting with<br>
"mvn install jetty:run" and browse to localhost:8888/,<br>

Great!<br>

Actually I am still thinking on implementing comet<br>
<a rel="nofollow" href="http://en.wikipedia.org/wiki/Comet_">http://en.wikipedia.org/wiki/Comet_</a>(programming) Actually long polling<br>
should not to be too complicate to be implemented with our REST<br>
framework (hopefully I will find some play time for implementing<br>
that). ;)<br>
<br>
However html5 will open some new approaches to the comet technique where<br>
Server-sent events and websockets come into play, but I think there we<br>
need to make some changes to our controller.<br>
<br>
Somebody had worked with streaming message in cocoon yet?<br>
<br>

Regarding the bean lookup, why not using autowiring in your<br>
components (more when you use the REST part)? See [5].<br>

Yes, that would do it.<br>
<br>
Thanks for your valuable response.<br>

you are welcome. I am glad if it helps you.<br>
<br>
salu2<br>
<br>

AndrÃ<br>
<br>

HTH<br>
<br>
[1]<br>
<a rel="nofollow" href="http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/TextResponse.java">http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/TextResponse.java</a><br>
<br>
[2]<br>
<a rel="nofollow" href="http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/BinaryResponse.java">http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/BinaryResponse.java</a><br>
<br>
[3]<br>
<a rel="nofollow" href="http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest-optional/">http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest-optional/</a><br>
[4] <a rel="nofollow" href="https://issues.apache.org/jira/browse/COCOON3-75">https://issues.apache.org/jira/browse/COCOON3-75</a><br>
[5]<br>
<a rel="nofollow" href="http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-sample/src/main/java/org/apache/cocoon/sample/controller/DemoRESTController.java?view=markup">http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-sample/src/main/java/org/apache/cocoon/sample/controller/DemoRESTController.java?view=markup</a><br>
<br>
<br>
Thorsten Scherler&lt;thorsten.at.apache.org&gt;<br>
codeBusters S.L. - web based systems&lt;consulting, training and<br>
solutions&gt;<br>
<a rel="nofollow" href="http://www.codebusters.es/">http://www.codebusters.es</a><br>
<br>
Andre Juffer&lt;ajuffer@xxxxxxxxxx&gt; wrote:<br>
<br>

Hi All,<br>
<br>
I have two questions:<br>
<br>
(1)<br>
I want to be to be able to return JSON to the client, typically a<br>
browser. The client is responsible to properly present the response to<br>
the user, typically with the Dojotoolkit. As I would like to move to<br>
cocoon3, I was looking for a JsonSerializer or a simple<br>
TextSerializer.<br>
<br>
With cocoon 2.2, one can simply use the TextSerializer to return JSON,<br>
by defining<br>
<br>
&lt;map:serializer name="json" mime-type="application/json;<br>
charset=UTF-8"<br>
src="org.apache.cocoon.serialization.TextSerializer"&gt;<br>
&lt;encoding&gt;UTF-8&lt;/encoding&gt;<br>
&lt;/map:serializer&gt;<br>
<br>
Cocoon 3 apparently is restricted to only return XML/HTML [1], as<br>
far as<br>
I can see. I did not find in the API any mentioning of other types of<br>
serializers, besides XMLSerializer and FopSerializer.<br>
<br>
If so, this would be a limitation. Especially for designing RIAs [2]<br>
(like Twitter), it would be very useful to be able to return JSON.<br>
<br>
So, is there a particular way to return JSON or Text.<br>
<br>
<br>
(2)<br>
With flowscript in cocoon 2.2, it was very easy to instantiate a Java<br>
bean defined in some appropriate Spring bean configuration file, like<br>
<br>
var someFacade = cocoon.getComponent("someFacade");<br>
someFacade.doSomething(...);<br>
<br>
Is there a recommended way in Cocoon 3 to instantiate beans. One<br>
could do<br>
<br>
ApplicationContext context =<br>
new ClassPathXmlApplicationContext( new String[]<br>
{"beans-spring.cfg.xml");<br>
SomeFacade facade = (SomeFacade)context.getBean("someFacade");<br>
facade.doSomething(...);<br>
<br>
within a JAX-RS resource [3].<br>
<br>
So, is this way to do instantiate beans?<br>
<br>
Thanks,<br>
Andre<br>
<br>
<br>
[1] <a rel="nofollow" href="http://cocoon.apache.org/3.0/features.html">http://cocoon.apache.org/3.0/features.html</a><br>
[2] <a rel="nofollow" href="http://en.wikipedia.org/wiki/Rich_Internet_application">http://en.wikipedia.org/wiki/Rich_Internet_application</a><br>
[3]<br>
<a rel="nofollow" href="http://cocoon.apache.org/3.0/referenc/html/webapps.html#webapps.rest">http://cocoon.apache.org/3.0/referenc/html/webapps.html#webapps.rest</a><br>
<br>
--<br>
Andre H. Juffer | Phone: +358-8-553 1161<br>
Biocenter Oulu and | Fax: +358-8-553-1141<br>
Department of Biochemistry | Email: andre.juffer@xxxxxxx<br>
University of Oulu, Finland | WWW: www.biochem.oulu.fi/Biocomputing/<br>
StruBioCat | WWW: www.strubiocat.oulu.fi<br>
NordProt | WWW: www.nordprot.org<br>
Triacle Biocomputing | WWW: www.triacle-bc.com<br>
<br>
---------------------------------------------------------------------<br>
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx<br>
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx<br>
<br>

<br>

<br>
<br>

<br>
<br>
--<br>
Andre H. Juffer              | Phone: +358-8-553 1161<br>
Biocenter Oulu and           | Fax: +358-8-553-1141<br>
Department of Biochemistry   | Email: andre.juffer@xxxxxxx<br>
University of Oulu, Finland  | WWW: www.biochem.oulu.fi/Biocomputing/<br>
StruBioCat                   | WWW: www.strubiocat.oulu.fi<br>
NordProt                     | WWW: www.nordprot.org<br>
Triacle Biocomputing         | WWW: www.triacle-bc.com<br>

<p><a href="http://osdir.com/ml/attachments/txtKN5NFEqqbJ.txt"><img src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/text.gif" align="left" border="0" alt="Attachment:" width="20" height="22"></a>
<a href="http://osdir.com/ml/attachments/txtKN5NFEqqbJ.txt"><tt>TextSerializer.java</tt></a><br>
Description: Text Data</p>

<p><a href="http://osdir.com/ml/attachments/txtqkU8O9mVI5.txt"><img src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/text.gif" align="left" border="0" alt="Attachment:" width="20" height="22"></a>
<a href="http://osdir.com/ml/attachments/txtqkU8O9mVI5.txt"><tt>JsonSerializer.java</tt></a><br>
Description: Text Data</p>

<p><a href="http://osdir.com/ml/attachments/txtxnA4rbYniR.txt"><img src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/text.gif" align="left" border="0" alt="Attachment:" width="20" height="22"></a>
<a href="http://osdir.com/ml/attachments/txtxnA4rbYniR.txt"><tt>EncodingTextSerializer.java</tt></a><br>
Description: Text Data</p>

<p><a href="http://osdir.com/ml/attachments/txt7vfxKKd8WY.txt"><img src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/text.gif" align="left" border="0" alt="Attachment:" width="20" height="22"></a>
<a href="http://osdir.com/ml/attachments/txt7vfxKKd8WY.txt"><tt>EncodingJsonSerializer.java</tt></a><br>
Description: Text Data</p>

<p><a href="http://osdir.com/ml/attachments/txt3VKgQ1KCI0.txt"><img src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/text.gif" align="left" border="0" alt="Attachment:" width="20" height="22"></a>
<a href="http://osdir.com/ml/attachments/txt3VKgQ1KCI0.txt"><tt>TextEncoder.java</tt></a><br>
Description: Text Data</p>
<br>
---------------------------------------------------------------------<br>
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx<br>
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx</div>
			</div>
                                                                


<center>
<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tbody><tr>

<td>
</td>
<td>
<div>

</div>
</td>
</tr>
</tbody></table>
<p> 
</p></center>

<p>









  </p><center>
<table>

<tbody><tr>
<td>
</td>
<td>
</td>

</tr>
</tbody></table>
<table><tbody><tr><td>
</td></tr>
</tbody></table>

</center>
<p>




							</p><div class="blueBorder round10" style="padding: 5px;"><b>Thread at a glance:</b>
	                				                			<div class="osdirMsgPreview" id="osDirMsgPre3">
	                				<h3 onclick="toggleMe(&#39;osDirMsgPre3&#39;);">Previous Message by Date:
	                					<!--<span style="font-size: 8pt">(click to view message preview)</span>-->
	                				</h3>
	                				<a href="http://osdir.com/ml/users-cocoon-apache/2011-09/msg00010.html">Re: Adding my Java code to flowscript</a><br><br>

















Hi

For those of you in need of an answer, I recently revisited this problem and
found out what the issue was. I debugged the CompilingClassLoader class
behaviour and eventually found that it was not working due to a conflict in the
libraries shipped with cocoon (version 2.1.11, the stable release). The problem
occurs when it tries to compile your java code using an instance of the eclipse
JavaCompilerImpl. There was an exception being thrown from within the call to
compile but this exception is never displayed in the logging nor on the console.
The eclipse JavaCompilerImpl instantiates a NamedEnvironmentAnswer object from
the jdt. However, it is expecting only one parameter in the constructor,
IBinaryType. But the constructor defined in the jdt jar that was shipped
contains an extra parameter of type AccessRestriction. Because of this there was
a NoSuchMethodException thrown. So I downloaded an older version of the jdt jar,
replaced it and the exception went away. So in summary you need to replace the
jdtcore-3.1.0.jar with jdt-3.0.2 jar in the cocoon installation.

Regards
Des


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx
















	               				</div>
	               				      			
	                				                			<div class="osdirMsgPreview" id="osDirMsgPre4">
	                				<h3 onclick="toggleMe(&#39;osDirMsgPre4&#39;);">Next Message by Date:
	                					<!--<span style="font-size: 8pt">click to view message preview</span>-->
	                				</h3>
	                				<a href="http://osdir.com/ml/users-cocoon-apache/2011-09/msg00012.html">Re: Cocoon3, JSON, Spring</a><br><br>

















I forgot to add the Spring 3 bean configuration for the serializers. 
Please see the attachment.



On 09/11/2011 04:03 PM, Andre Juffer wrote:

Hi Thorsten,

I did do some work on a TextSerializer and a JsonSerializer. I got it
all working now.

I looked at the EncodingXHTMLSerializer as a starting point. I should
note that I basically know nothing about the internal organization of
cocoon 3, and this makes it really hard for an outsider to contribute,
as it is rather unclear where to start. Sorry to say but the
documentation in the various AIPs is really terrible. The organization
of the classes explained below may be incorrect.

I made a EncodingTextSerializer-&gt;TextSerializer-&gt;XMLSerializer (the
arrow means 'extend'). Both TextSerializer and XMLSerializer are in the
package org.apache.cocoon.components.serializers.util. (Note: The
XMLSerializer was already available, it is not mine). The
EncodingTextSerializer is part of
org.apache.cocoon.optional.servlet.components.sax.serializers
The TextSerializer is based upon one I found in the cocoon 2 base code,
but had to be augmented to implement the ContentHandler and other
interfaces.

Similarly, I made EncodingJsonSerializer-&gt;JsonSerializer-&gt;TextSerializer.

The JsonSerializer checks whether the JSON text is actually valid JSON
(using org.json.JSONObject, see http://www.json.org/), and throws a
SAXException if this is not the case.

The EncodingJsonSerializer is in
org.apache.cocoon.optional.servlet.components.sax.serializers, while the
JsonSerializer is in org.apache.cocoon.components.serializers.util.

Both encoding classes implement SAXPipelineComponent, Finisher,
SAXConsumer, CachingPipelineComponent so that both encoding serializers
can be used in a pipeline.

(NOTE: there appears to be 2-3 different XMLSerializers in use for
cocoon 3? E.g. The FopSerializer derives from another XMLSerializer. It
should be quite possible to use the same XMLSerializer for all
serializers.)

Using an encoding serializer requires an alternative encoder for the
TextSerializer, so I made a TextEncoder-&gt;XMLEncoder for use by the
TextSerializer. Both TextEncoder and XMLEncoder are in
org.apache.cocoon.components.serializers.encoding (the XMLEncoder
already exists, it is not mine). The TextEncoder does not encode
anything. It just returns the original character. There is no separate
JsonEncoder.

Basically, this all works with the simple test files I made. It is easy
to test this outside of cocoon, by creating an XMLReader and setting the
ContentHandler as being any of the above serializers and parse some XML
representing text or JSON (both must be enclosed by a single element).

I also incorporated this into cocoon 3 and made some simple pipelines to
see if the two encoding serializers work as they should. For this, I
created two beans defined as serializer:text and serializer:json.
Basically everything seems to work just fine.

(I use a Java-based RESTClient at http://code.google.com/p/rest-client/
to see the response by cocoon 3. Very nice tool.)

I have attached the various classes to this email. Any comment by you
and others are certainly welcome. If you think that attached code is
actually useful for cocoon 3, I would be pleased if somebody would
commit the code.

One final comment, IMHO the packages
org.apache.cocoon.components.serializers.util and
org.apache.cocoon.components.serializers.encoding should be transferred
to cocoon 3 and probably should become part of cocoon-optional. The
spring configuration in these packages are still based on Spring 2,
while cocoon 3 uses Spring 3.

Thanks,
AndrÃ



On 09/02/2011 02:31 PM, Andre Juffer wrote:

On 02/09/11 13:45, Thorsten Scherler wrote:

On Fri, 2011-09-02 at 09:58 +0300, Andre Juffer wrote:

On 09/02/2011 02:46 AM, Thorsten Scherler wrote:

Hi Andre,

sorry for top posting but I am responding from my mobile device.

Regarding 1) the org.apache.cocoon.serialization.TextSerializer
migration into c3 is ASAIK not yet done. However that should be
pretty straight forward to implement.

Yes, I was already thinking that I could do this.

Contributions are always welcome. ;)

If you or somebody else will do the migration please open an issue in
https://issues.apache.org/jira/browse/COCOON3 and attach the diff. We
will apply it ASAP.


OK, I do my best to get it done.





Actually I did lately work with the RESTController of c3 since the
JAX-RS integration was not needed for my use cases. If you choose
the c3 REST way you can use the TextResponse [1] to return your json
objects to the client. In the same package you will as well find a
BinaryResponse [2] which you can use to return binary data like
images from your rest services.

The TextResponse is a good alternative, and I will certainly look into
it. It is apparently not yet part of the current alpha Cocoon
3.0.0-alpha-3 that I downloaded from the cocoon website.

No you would need the HEAD or the latest beta snapshot.


I just commited an example [3] of an asyncron processing with REST
you may want to look into. It is based on jquery on the client side
but you will get the idea. If you look at [4] you will see the basic
background. The block provides a workig example when starting with
"mvn install jetty:run" and browse to localhost:8888/,

Great!

Actually I am still thinking on implementing comet
http://en.wikipedia.org/wiki/Comet_(programming) Actually long polling
should not to be too complicate to be implemented with our REST
framework (hopefully I will find some play time for implementing
that). ;)

However html5 will open some new approaches to the comet technique where
Server-sent events and websockets come into play, but I think there we
need to make some changes to our controller.

Somebody had worked with streaming message in cocoon yet?


Regarding the bean lookup, why not using autowiring in your
components (more when you use the REST part)? See [5].

Yes, that would do it.

Thanks for your valuable response.

you are welcome. I am glad if it helps you.

salu2


AndrÃ


HTH

[1]
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/TextResponse.java


[2]
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/BinaryResponse.java


[3]
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest-optional/

[4] https://issues.apache.org/jira/browse/COCOON3-75
[5]
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-sample/src/main/java/org/apache/cocoon/sample/controller/DemoRESTController.java?view=markup



Thorsten Scherler&lt;thorsten.at.apache.org&gt;
codeBusters S.L. - web based systems&lt;consulting, training and
solutions&gt;
http://www.codebusters.es

Andre Juffer&lt;ajuffer@xxxxxxxxxx&gt; wrote:


Hi All,

I have two questions:

(1)
I want to be to be able to return JSON to the client, typically a
browser. The client is responsible to properly present the
response to
the user, typically with the Dojotoolkit. As I would like to move to
cocoon3, I was looking for a JsonSerializer or a simple
TextSerializer.

With cocoon 2.2, one can simply use the TextSerializer to return
JSON,
by defining

&lt;map:serializer name="json" mime-type="application/json;
charset=UTF-8"
src="org.apache.cocoon.serialization.TextSerializer"&gt;
&lt;encoding&gt;UTF-8&lt;/encoding&gt;
&lt;/map:serializer&gt;

Cocoon 3 apparently is restricted to only return XML/HTML [1], as
far as
I can see. I did not find in the API any mentioning of other types of
serializers, besides XMLSerializer and FopSerializer.

If so, this would be a limitation. Especially for designing RIAs [2]
(like Twitter), it would be very useful to be able to return JSON.

So, is there a particular way to return JSON or Text.


(2)
With flowscript in cocoon 2.2, it was very easy to instantiate a Java
bean defined in some appropriate Spring bean configuration file, like

var someFacade = cocoon.getComponent("someFacade");
someFacade.doSomething(...);

Is there a recommended way in Cocoon 3 to instantiate beans. One
could do

ApplicationContext context =
new ClassPathXmlApplicationContext( new String[]
{"beans-spring.cfg.xml");
SomeFacade facade = (SomeFacade)context.getBean("someFacade");
facade.doSomething(...);

within a JAX-RS resource [3].

So, is this way to do instantiate beans?

Thanks,
Andre


[1] http://cocoon.apache.org/3.0/features.html
[2] http://en.wikipedia.org/wiki/Rich_Internet_application
[3]
http://cocoon.apache.org/3.0/referenc/html/webapps.html#webapps.rest

--
Andre H. Juffer | Phone: +358-8-553 1161
Biocenter Oulu and | Fax: +358-8-553-1141
Department of Biochemistry | Email: andre.juffer@xxxxxxx
University of Oulu, Finland | WWW: www.biochem.oulu.fi/Biocomputing/
StruBioCat | WWW: www.strubiocat.oulu.fi
NordProt | WWW: www.nordprot.org
Triacle Biocomputing | WWW: www.triacle-bc.com

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx












---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx



--
Andre H. Juffer              | Phone: +358-8-553 1161
Biocenter Oulu and           | Fax: +358-8-553-1141
Department of Biochemistry   | Email: andre.juffer@xxxxxxx
University of Oulu, Finland  | WWW: www.biochem.oulu.fi/Biocomputing/
StruBioCat                   | WWW: www.strubiocat.oulu.fi
NordProt                     | WWW: www.nordprot.org
Triacle Biocomputing         | WWW: www.triacle-bc.com


tribc-cocoon-3.xml
Description: Text Data

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx














	               				</div>
	               				      			

	                				                			<div class="osdirMsgPreview" id="osDirMsgPre1">
	                				<h3 onclick="toggleMe(&#39;osDirMsgPre1&#39;);">Previous Message by Thread:
	                					<!--<span style="font-size: 8pt">click to view message preview</span>-->
	                				</h3>
	                				<a href="http://osdir.com/ml/users-cocoon-apache/2011-09/msg00004.html">Re: Cocoon3, JSON, Spring</a><br><br>


















On 02/09/11 13:45, Thorsten Scherler wrote:

On Fri, 2011-09-02 at 09:58 +0300, Andre Juffer wrote:

On 09/02/2011 02:46 AM, Thorsten Scherler wrote:

Hi Andre,

sorry for top posting but I am responding from my mobile device.

Regarding 1) the org.apache.cocoon.serialization.TextSerializer migration into 
c3 is ASAIK not yet done. However that should be pretty straight forward to 
implement.

Yes, I was already thinking that I could do this.

Contributions are always welcome. ;)

If you or somebody else will do the migration please open an issue in
https://issues.apache.org/jira/browse/COCOON3 and attach the diff. We
will apply it ASAP.


OK, I do my best to get it done.





Actually I did lately work with the RESTController of c3 since the JAX-RS 
integration was not needed for my use cases. If you choose the c3 REST way you 
can use the TextResponse [1]  to return your json objects to the client. In the 
same package you will as well find a BinaryResponse [2] which you can use to 
return binary data like images from your rest services.

The TextResponse is a good alternative, and I will certainly look into
it. It is apparently not yet part of the current alpha Cocoon
3.0.0-alpha-3 that I downloaded from the cocoon website.

No you would need the HEAD or the latest beta snapshot.


I just commited an example [3] of an asyncron processing with REST you may want to look 
into. It is based on jquery on the client side but you will get the idea. If you look at 
[4] you will see the basic background. The block provides a workig example when starting 
with "mvn install jetty:run" and browse to localhost:8888/,

Great!

Actually I am still thinking on implementing comet
http://en.wikipedia.org/wiki/Comet_(programming) Actually long polling
should not to be too complicate to be implemented with our REST
framework (hopefully I will find some play time for implementing
that). ;)

However html5 will open some new approaches to the comet technique where
Server-sent events and websockets come into play, but I think there we
need to make some changes to our controller.

Somebody had worked with streaming message in cocoon yet?


Regarding the bean lookup, why not using autowiring in your components (more 
when you use the REST part)? See [5].

Yes, that would do it.

Thanks for your valuable response.

you are welcome. I am glad if it helps you.

salu2


AndrÃ


HTH

[1] 
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/TextResponse.java
[2] 
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/BinaryResponse.java
[3] http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest-optional/
[4] https://issues.apache.org/jira/browse/COCOON3-75
[5] 
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-sample/src/main/java/org/apache/cocoon/sample/controller/DemoRESTController.java?view=markup

Thorsten Scherler&lt;thorsten.at.apache.org&gt;
codeBusters S.L. - web based systems&lt;consulting, training and solutions&gt;
http://www.codebusters.es

Andre Juffer&lt;ajuffer@xxxxxxxxxx&gt;   wrote:


Hi All,

I have two questions:

(1)
I want to be to be able to return JSON to the client, typically a
browser. The client is responsible to properly present the response to
the user, typically with the Dojotoolkit. As I would like to move to
cocoon3, I was looking for a JsonSerializer or a simple TextSerializer.

With cocoon 2.2, one can simply use the TextSerializer to return JSON,
by defining

&lt;map:serializer name="json" mime-type="application/json; charset=UTF-8"
                  src="org.apache.cocoon.serialization.TextSerializer"&gt;
    &lt;encoding&gt;UTF-8&lt;/encoding&gt;
&lt;/map:serializer&gt;

Cocoon 3 apparently is restricted to only return XML/HTML [1], as far as
I can see. I did not find in the API any mentioning of other types of
serializers, besides XMLSerializer and FopSerializer.

If so, this would be a limitation. Especially for designing RIAs [2]
(like Twitter), it would be very useful to be able to return JSON.

So, is there a particular way to return JSON or Text.


(2)
With flowscript in cocoon 2.2, it was very easy to instantiate a Java
bean defined in some appropriate Spring bean configuration file, like

var someFacade = cocoon.getComponent("someFacade");
someFacade.doSomething(...);

Is there a recommended way in Cocoon 3 to instantiate beans. One could do

ApplicationContext context =
    new ClassPathXmlApplicationContext( new String[]
{"beans-spring.cfg.xml");
SomeFacade facade = (SomeFacade)context.getBean("someFacade");
facade.doSomething(...);

within a JAX-RS resource [3].

So, is this way to do instantiate beans?

Thanks,
Andre


[1] http://cocoon.apache.org/3.0/features.html
[2] http://en.wikipedia.org/wiki/Rich_Internet_application
[3] http://cocoon.apache.org/3.0/referenc/html/webapps.html#webapps.rest

--
Andre H. Juffer              | Phone: +358-8-553 1161
Biocenter Oulu and           | Fax: +358-8-553-1141
Department of Biochemistry   | Email: andre.juffer@xxxxxxx
University of Oulu, Finland  | WWW: www.biochem.oulu.fi/Biocomputing/
StruBioCat                   | WWW: www.strubiocat.oulu.fi
NordProt                     | WWW: www.nordprot.org
Triacle Biocomputing         | WWW: www.triacle-bc.com

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx






--
Andre H. Juffer              | Phone: +358-8-553 1161
Biocenter Oulu and           | Fax: +358-8-553-1141
Department of Biochemistry   | Email: andre.juffer@xxxxxxx
University of Oulu, Finland  | WWW: www.biochem.oulu.fi/Biocomputing/
StrucBioCat                  | WWW: www.strucbiocat.oulu.fi
Triacle Biocomputing         | WWW: www.triacle-bc.com


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx
















	               				</div>
	               				      			
	                				                			<div class="osdirMsgPreview" id="osDirMsgPre2">
	                				<h3 onclick="toggleMe(&#39;osDirMsgPre2&#39;);">Next Message by Thread:
	                				<!--<span style="font-size: 8pt">click to view message preview</span>-->
	                				</h3>
	                				<a href="http://osdir.com/ml/users-cocoon-apache/2011-09/msg00012.html">Re: Cocoon3, JSON, Spring</a><br><br>

















I forgot to add the Spring 3 bean configuration for the serializers. 
Please see the attachment.



On 09/11/2011 04:03 PM, Andre Juffer wrote:

Hi Thorsten,

I did do some work on a TextSerializer and a JsonSerializer. I got it
all working now.

I looked at the EncodingXHTMLSerializer as a starting point. I should
note that I basically know nothing about the internal organization of
cocoon 3, and this makes it really hard for an outsider to contribute,
as it is rather unclear where to start. Sorry to say but the
documentation in the various AIPs is really terrible. The organization
of the classes explained below may be incorrect.

I made a EncodingTextSerializer-&gt;TextSerializer-&gt;XMLSerializer (the
arrow means 'extend'). Both TextSerializer and XMLSerializer are in the
package org.apache.cocoon.components.serializers.util. (Note: The
XMLSerializer was already available, it is not mine). The
EncodingTextSerializer is part of
org.apache.cocoon.optional.servlet.components.sax.serializers
The TextSerializer is based upon one I found in the cocoon 2 base code,
but had to be augmented to implement the ContentHandler and other
interfaces.

Similarly, I made EncodingJsonSerializer-&gt;JsonSerializer-&gt;TextSerializer.

The JsonSerializer checks whether the JSON text is actually valid JSON
(using org.json.JSONObject, see http://www.json.org/), and throws a
SAXException if this is not the case.

The EncodingJsonSerializer is in
org.apache.cocoon.optional.servlet.components.sax.serializers, while the
JsonSerializer is in org.apache.cocoon.components.serializers.util.

Both encoding classes implement SAXPipelineComponent, Finisher,
SAXConsumer, CachingPipelineComponent so that both encoding serializers
can be used in a pipeline.

(NOTE: there appears to be 2-3 different XMLSerializers in use for
cocoon 3? E.g. The FopSerializer derives from another XMLSerializer. It
should be quite possible to use the same XMLSerializer for all
serializers.)

Using an encoding serializer requires an alternative encoder for the
TextSerializer, so I made a TextEncoder-&gt;XMLEncoder for use by the
TextSerializer. Both TextEncoder and XMLEncoder are in
org.apache.cocoon.components.serializers.encoding (the XMLEncoder
already exists, it is not mine). The TextEncoder does not encode
anything. It just returns the original character. There is no separate
JsonEncoder.

Basically, this all works with the simple test files I made. It is easy
to test this outside of cocoon, by creating an XMLReader and setting the
ContentHandler as being any of the above serializers and parse some XML
representing text or JSON (both must be enclosed by a single element).

I also incorporated this into cocoon 3 and made some simple pipelines to
see if the two encoding serializers work as they should. For this, I
created two beans defined as serializer:text and serializer:json.
Basically everything seems to work just fine.

(I use a Java-based RESTClient at http://code.google.com/p/rest-client/
to see the response by cocoon 3. Very nice tool.)

I have attached the various classes to this email. Any comment by you
and others are certainly welcome. If you think that attached code is
actually useful for cocoon 3, I would be pleased if somebody would
commit the code.

One final comment, IMHO the packages
org.apache.cocoon.components.serializers.util and
org.apache.cocoon.components.serializers.encoding should be transferred
to cocoon 3 and probably should become part of cocoon-optional. The
spring configuration in these packages are still based on Spring 2,
while cocoon 3 uses Spring 3.

Thanks,
AndrÃ



On 09/02/2011 02:31 PM, Andre Juffer wrote:

On 02/09/11 13:45, Thorsten Scherler wrote:

On Fri, 2011-09-02 at 09:58 +0300, Andre Juffer wrote:

On 09/02/2011 02:46 AM, Thorsten Scherler wrote:

Hi Andre,

sorry for top posting but I am responding from my mobile device.

Regarding 1) the org.apache.cocoon.serialization.TextSerializer
migration into c3 is ASAIK not yet done. However that should be
pretty straight forward to implement.

Yes, I was already thinking that I could do this.

Contributions are always welcome. ;)

If you or somebody else will do the migration please open an issue in
https://issues.apache.org/jira/browse/COCOON3 and attach the diff. We
will apply it ASAP.


OK, I do my best to get it done.





Actually I did lately work with the RESTController of c3 since the
JAX-RS integration was not needed for my use cases. If you choose
the c3 REST way you can use the TextResponse [1] to return your json
objects to the client. In the same package you will as well find a
BinaryResponse [2] which you can use to return binary data like
images from your rest services.

The TextResponse is a good alternative, and I will certainly look into
it. It is apparently not yet part of the current alpha Cocoon
3.0.0-alpha-3 that I downloaded from the cocoon website.

No you would need the HEAD or the latest beta snapshot.


I just commited an example [3] of an asyncron processing with REST
you may want to look into. It is based on jquery on the client side
but you will get the idea. If you look at [4] you will see the basic
background. The block provides a workig example when starting with
"mvn install jetty:run" and browse to localhost:8888/,

Great!

Actually I am still thinking on implementing comet
http://en.wikipedia.org/wiki/Comet_(programming) Actually long polling
should not to be too complicate to be implemented with our REST
framework (hopefully I will find some play time for implementing
that). ;)

However html5 will open some new approaches to the comet technique where
Server-sent events and websockets come into play, but I think there we
need to make some changes to our controller.

Somebody had worked with streaming message in cocoon yet?


Regarding the bean lookup, why not using autowiring in your
components (more when you use the REST part)? See [5].

Yes, that would do it.

Thanks for your valuable response.

you are welcome. I am glad if it helps you.

salu2


AndrÃ


HTH

[1]
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/TextResponse.java


[2]
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest/src/main/java/org/apache/cocoon/rest/controller/response/BinaryResponse.java


[3]
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-rest-optional/

[4] https://issues.apache.org/jira/browse/COCOON3-75
[5]
http://svn.apache.org/viewvc/cocoon/cocoon3/trunk/cocoon-sample/src/main/java/org/apache/cocoon/sample/controller/DemoRESTController.java?view=markup



Thorsten Scherler&lt;thorsten.at.apache.org&gt;
codeBusters S.L. - web based systems&lt;consulting, training and
solutions&gt;
http://www.codebusters.es

Andre Juffer&lt;ajuffer@xxxxxxxxxx&gt; wrote:


Hi All,

I have two questions:

(1)
I want to be to be able to return JSON to the client, typically a
browser. The client is responsible to properly present the
response to
the user, typically with the Dojotoolkit. As I would like to move to
cocoon3, I was looking for a JsonSerializer or a simple
TextSerializer.

With cocoon 2.2, one can simply use the TextSerializer to return
JSON,
by defining

&lt;map:serializer name="json" mime-type="application/json;
charset=UTF-8"
src="org.apache.cocoon.serialization.TextSerializer"&gt;
&lt;encoding&gt;UTF-8&lt;/encoding&gt;
&lt;/map:serializer&gt;

Cocoon 3 apparently is restricted to only return XML/HTML [1], as
far as
I can see. I did not find in the API any mentioning of other types of
serializers, besides XMLSerializer and FopSerializer.

If so, this would be a limitation. Especially for designing RIAs [2]
(like Twitter), it would be very useful to be able to return JSON.

So, is there a particular way to return JSON or Text.


(2)
With flowscript in cocoon 2.2, it was very easy to instantiate a Java
bean defined in some appropriate Spring bean configuration file, like

var someFacade = cocoon.getComponent("someFacade");
someFacade.doSomething(...);

Is there a recommended way in Cocoon 3 to instantiate beans. One
could do

ApplicationContext context =
new ClassPathXmlApplicationContext( new String[]
{"beans-spring.cfg.xml");
SomeFacade facade = (SomeFacade)context.getBean("someFacade");
facade.doSomething(...);

within a JAX-RS resource [3].

So, is this way to do instantiate beans?

Thanks,
Andre


[1] http://cocoon.apache.org/3.0/features.html
[2] http://en.wikipedia.org/wiki/Rich_Internet_application
[3]
http://cocoon.apache.org/3.0/referenc/html/webapps.html#webapps.rest

--
Andre H. Juffer | Phone: +358-8-553 1161
Biocenter Oulu and | Fax: +358-8-553-1141
Department of Biochemistry | Email: andre.juffer@xxxxxxx
University of Oulu, Finland | WWW: www.biochem.oulu.fi/Biocomputing/
StruBioCat | WWW: www.strubiocat.oulu.fi
NordProt | WWW: www.nordprot.org
Triacle Biocomputing | WWW: www.triacle-bc.com

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx












---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx



--
Andre H. Juffer              | Phone: +358-8-553 1161
Biocenter Oulu and           | Fax: +358-8-553-1141
Department of Biochemistry   | Email: andre.juffer@xxxxxxx
University of Oulu, Finland  | WWW: www.biochem.oulu.fi/Biocomputing/
StruBioCat                   | WWW: www.strubiocat.oulu.fi
NordProt                     | WWW: www.nordprot.org
Triacle Biocomputing         | WWW: www.triacle-bc.com


tribc-cocoon-3.xml
Description: Text Data

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@xxxxxxxxxxxxxxxxx
For additional commands, e-mail: users-help@xxxxxxxxxxxxxxxxx














	               				</div>
	               											</div>


<div></div>


<table><tbody><tr><td>
<div>      
</div>
</td></tr></tbody></table>

<p>
</p><center>
<!-- Here -->

<table><tbody><tr>
<td valign="top">

</td>
<td>
</td>
</tr>
<tr><td>

</td>
</tr>
</tbody></table>




<br>
</center>
<center>

<p>
<!-- THREADS -->
</p><div>








							<div style="display:none;">
	<!-- new frame here -->
								<!--
								<iframe 									
									src="" 									
									width="910" height="400" 
									scrolling="no" 
									id="subfooter" style="padding:5px;overflow:hidden;">
								</iframe>
								-->
							</div>
</div>


	               			</center></div>      			
					<center>	
					                                            <div id="osDirAdN1Post"></div>
                                            <table border="0">
                                                <tbody><tr>
                                                    <td>
							</td><td><div id="osDirAdN2Post"></div></td>
                                                    <td><div id="osDirAdN3Post"></div></td>
                                              </tr>
                                            </tbody></table>
						
					



					</center>
										
							<div style="padding-top: 5px;">
                                                        <center>
								<div id="osDirAd4Post">
									<script type="text/javascript">
										//GA_googleFillSlot("mlBottomLeaderboard");
									</script>								
								</div>
							</center></div>		

                                                        <div style="padding-top: 5px;"><center>
							<table border="0" cellpadding="0" cellspacing="0">
							<tbody><tr>
								<td><div id="osDirAd5Post">
									<script type="text/javascript">
										//GA_googleFillSlot("mlBottomBlockLeft");
									</script>								
								</div></td>
								<td><div id="osDirAd6Post">
									<script type="text/javascript">
										//GA_googleFillSlot("mlBottomBlockRight");
									</script>								
								</div></td>
							</tr></tbody></table>
							</center>
						</div>		
					
	                
					
	                <div>





	                <p>	</p><center>



<p>
vvv
</p><p>


	                		<a href="http://osdir.com/ml" title="Home">Home</a> | <a href="http://osdir.com/">News</a> |  <a href="http://osdir.com/ml/site_dir/">Sitemap</a>  | <a rel="nofollow" href="http://osdir.com/ml/faq.php">FAQ</a> | <a rel="nofollow" href="http://osdir.com/Article9135.phtml">advertise</a> | OSDir is an <a href="http://inevitablecorp.com/">Inevitable</a> website. <a href="http://gbiz.org/">GBiz</a> is too! <img src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/supertinyappleboy.gif" alt="super tiny logo">
        </p></center>

	               	
	                </div>
	                
	<!-- MIDDLE COLUMN END -->
			</td>
	


<td width="390" valign="top">
	<!-- RIGHT COLUMN -->
  <div style="position:absolute; margin-left: 10px;">
   </div>
   <div id="adContainerDiv2" class="adContainer banner">
   <p>

</p><table>
<tbody><tr>
<td valign="top">



	</td>
	</tr><tr><td>
	
	


<p></p><h4>Latest News Stories:</h4>
<p><strong><a href="http://osdir.com/Article11450.phtml" title="Docker 1.0">Docker 1.0</a></strong><br></p><p><strong><a href="http://osdir.com/Article11449.phtml" title="Heartbleed Redux: Another Gaping Wound in Web Encryption Uncovered">Heartbleed Redux: Another Gaping Wound in Web Encryption Uncovered</a></strong><br></p><p><strong><a href="http://osdir.com/Article11448.phtml" title="The Next Circle of Hell: Unpatchable Systems">The Next Circle of Hell: Unpatchable Systems</a></strong><br></p><p><strong><a href="http://osdir.com/Article11447.phtml" title="Git 2.0.0 Released">Git 2.0.0 Released</a></strong><br></p><p><strong><a href="http://osdir.com/Article11446.phtml" title="The Linux Foundation Announces Core Infrastructure Initiative">The Linux Foundation Announces Core Infrastructure Initiative</a></strong><br>
	</p><p>



</p><p>
   </p><div id="recentcomments" class="dsq-widget cleanDis  blueBorder round10" style="width: 300px;margin-left: 10px;">

<h3>Recent Msgs:</h3><a href="http://osdir.com/ml/general/2016-09/msg09594.html">general/2016-09/msg09594.html</a><p><a href="http://osdir.com/ml/ubuntu-bugs/2016-09/msg04634.html">ubuntu-bugs/2016-09/msg04634.html</a></p><p><a href="http://osdir.com/ml/clojure/2016-09/msg00041.html">clojure/2016-09/msg00041.html</a></p><p><a href="http://osdir.com/ml/general/2016-09/msg09583.html">general/2016-09/msg09583.html</a></p><p><a href="http://osdir.com/ml/scm-fedora-commits/2016-09/msg05169.html">scm-fedora-commits/2016-09/msg05169.html</a></p><p><a href="http://osdir.com/ml/general/2016-09/msg09575.html">general/2016-09/msg09575.html</a></p><p><a href="http://osdir.com/ml/general/2016-09/msg09568.html">general/2016-09/msg09568.html</a></p><p><a href="http://osdir.com/ml/centos/2016-09/msg00088.html">centos/2016-09/msg00088.html</a></p><p><a href="http://osdir.com/ml/ubuntu-bugs/2016-09/msg04578.html">ubuntu-bugs/2016-09/msg04578.html</a></p><p><a href="http://osdir.com/ml/general/2016-09/msg09506.html">general/2016-09/msg09506.html</a></p><p>   </p></div>
<p>
</p></td>
</tr>
</tbody></table>
   <!-- <div id="osDirAd2Post" style="margin-left: 10px;width:300px;height:250px">
</div> -->
<p>
</p><table>
<tbody><tr>
<td valign="top">
</td>
</tr>
</tbody></table>

   <div style="margin-left: 10px;">


<p><iframe class="lazy lazy-loaded" data-src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fosdir.com%2F&amp;width&amp;layout=standard&amp;action=like&amp;show_faces=true&amp;share=true&amp;height=80&amp;appId=143155335926" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:80px;" allowtransparency="true" src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/like.html"></iframe>






</p><p>
</p><h4>Latest News Stories:</h4>
<a href="http://osdir.com/Article11412.phtml">Linux 4.0 Kernel Released</a><br>
<a href="http://osdir.com/Article11411.phtml">Google Lets SMTP Certificate Expire</a><br>
<a href="http://osdir.com/Article11410.phtml">Open Crypto Audit Passes TrueCrypt</a><br>
<a href="http://osdir.com/Article11408.phtml">CIA 'tried to crack security of Apple devices'</a><br>
<a href="http://osdir.com/Article11406.phtml">Xen Security Bug: Amazon, Rackspace Cloud Reboots</a><br>
<a href="http://osdir.com/Article11405.phtml">FCC Approves Net Neutrality Rules</a><br>
<br>



<p>





  </p></div>

	</div>
<!-- RIGHT COLUMN END -->
	</td>
				</tr></tbody></table>
<!-- PAGE MIDDLE END-->
			
		
		
			
				<!-- PAGE FOOTER -->
			
		
	
	<br>
<script src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/oldJQ.js" type="text/javascript"></script>

<script>

//Add hotspot in banner
$('#homeClick').click(
	function(){
		document.location = "/ml/";
	}
);


//target _blank links.
//Don't convert links that are on index pages.
if (isIndexPage != true){
	//console.log("getting lists", $('.cleanDis a'));
	$("#messspan a").each(function(item,thing){
			thing.target='_blank'
			//thing.href = '/ml/redir.php?redir='+thing.href
	})
	$(".cleanDis a").each(function(item,thing){
			thing.target='_blank'
	})
}


//Preview mechanics
var tmpToggleHeight = new Object();
function toggleMe(theDiv){
	//return;
	//console.log($("#" + theDiv))
	if(!tmpToggleHeight[theDiv]){
		$("#" + theDiv)[0].style.height="8em"
		tmpToggleHeight[theDiv] = 6
	} else {
		$("#" + theDiv)[0].style.height="3.0em"
		tmpToggleHeight[theDiv] = 0	
	}
}

</script>






<script type="text/javascript">
var isIE = (document.all) ? 1 : 0
var adList = []

function replaceAd(ad){
/*
	if (isIE){
		adList.push(ad)
		/*
		setTimeout( function(){
			$("#" + ad + "Pre").appendTo( $("#" + ad + "Post") )
		},2000)
		*/
	//} else { 
		//$("#" + ad + "Pre").appendTo( $("#" + ad + "Post") )
	//}
}

if (typeof ord=='undefined') {ord=Math.random()*10000000000000000;}
</script>
<div style="border: 1px solid #000000; display: none;">
</div>




<script type="text/javascript">
/*
if(isIE){

	$(adList).each(function(i,ad){
		//$("#" + ad + "Post").append("#" + ad + "Pre")
		$("#" + ad + "Pre").appendTo( $("#" + ad + "Post") )
		//console.log("ad:",ad)
	})

}*/
</script>

<!-- All other end of body stuff HERE -->
<script src="./users-cocoon-apache - Re_ Cocoon3, JSON, Spring - msg#00011 - Recent Discussion OSDir.com_files/riveted.min.js"></script>
<script>riveted.init();</script>




<!-- <script>
/* STICKY RIGHT COLUMN BIT */
/* SEPT 15 2015 - CC */
(function () {
    var timer = false,
        stickyDiv = document.getElementById('adContainerDiv2'),
        beenSticky = false;

    //CAPTURE THE WINDOW SCROLL
    if(window.top.addEventListener){
        window.top.addEventListener('scroll',scrolltop,false);
    }else{
        window.top.attachEvent('scroll',scrolltop);
    }

    function scrolltop(){
        var windowpos =  ( (window.top.pageYOffset || window.top.document.scrollTop)  - (window.top.document.clientTop || 0) || 0) ;
        if (windowpos >= stickyDiv.offsetTop && !beenSticky) {
            clearSticky();
            stickyDiv.classList.add('NVIEWSTICKYAD');
        } else {
            clearTimeout(timer);
            timer = false;
            stickyDiv.classList.remove('NVIEWSTICKYAD');
        }
    }

    function clearSticky () {
        if (!timer) {
            timer = setTimeout(function () {
                stickyDiv.classList.remove('NVIEWSTICKYAD');
                beenSticky = true;
            }, 45000); // THIS IS WHERE YOU SET THE DELAY IN MS // TOO LITTLE MIGHT CAUSE VIEWABILITY TRACKERS TO BE FUCKED UP (MORE)
        }
    }
})();
</script> -->






<script type="text/javascript">

        q = $("#theFrame")
        o = $('#disqus_thread')
        o.innerHTML = ""

//Inject disqus comment box

function addDisqus(){
        setTimeout(
                function(){
                        checkDisqus()
                },200
        )
        s = document.createElement('script')
        o.append(s);
        window.disqus_no_style = true;
        
        //o.style.display = "block"
}

function checkDisqus(){
        num = Math.floor(Math.random() * 30) + 15
        setTimeout(
                function(){
                        checkDisqus()
                }
                ,(num * 1000)
        )
}
</script>

</body></html>